{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/messages.js","filenameRelative":"/client/messages.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/messages.js.map","sourceFileName":"/client/messages.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"messages"},"ignored":false,"code":"Template.messagesBlock.helpers({\n  messages: function () {\n    function messages() {\n      return Messages.find({});\n    }\n\n    return messages;\n  }()\n});\n\nTemplate.messagesBlock.events({\n  \"submit .new-message\": function () {\n    function submitNewMessage(event) {\n      event.preventDefault();\n      var text = event.target.message.value;\n\n      Messages.insert({\n        text: text,\n        createdAt: new Date(),\n        owner: Meteor.userId(),\n        username: Meteor.user().username\n      });\n      event.target.message.value = \"\";\n    }\n\n    return submitNewMessage;\n  }()\n});\n\nAccounts.ui.config({\n  passwordSignupFields: \"USERNAME_ONLY\"\n});\n\nTemplate.message.helpers({\n  dateFormat: function () {\n    function dateFormat(time) {\n      var date = new Date(time);\n      var hours = date.getHours();\n      var minutes = date.getMinutes();\n      var seconds = date.getSeconds();\n      var day = date.getDate();\n      var month = date.getMonth();\n      var year = date.getFullYear();\n      var out = \"\";\n      var now = new Date();\n      if (now - time > 86400000) {\n        out = day + \".\" + month + \".\" + year;\n      } else {\n        out = hours + \":\" + minutes + \":\" + seconds;\n      }\n      return out;\n    }\n\n    return dateFormat;\n  }()\n});","ast":null,"map":{"version":3,"sources":["/client/messages.js"],"names":[],"mappings":"AAAA,SAAS,aAAT,CAAuB,OAAvB,CAA+B;AAC7B;wBAAY;AACV,aAAO,SAAS,IAAT,CAAc,EAAd,CAAP,CADU;;;;KADiB;CAA/B;;AAMA,SAAS,aAAT,CAAuB,MAAvB,CAA8B;AAC5B;8BAAuB,OAAO;AAC5B,YAAM,cAAN,GAD4B;AAE5B,UAAM,OAAO,MAAM,MAAN,CAAa,OAAb,CAAqB,KAArB,CAFe;;AAI5B,eAAS,MAAT,CAAgB;AACd,cAAM,IAAN;AACA,mBAAW,IAAI,IAAJ,EAAX;AACA,eAAO,OAAO,MAAP,EAAP;AACA,kBAAU,OAAO,IAAP,GAAc,QAAd;OAJZ,EAJ4B;AAU5B,YAAM,MAAN,CAAa,OAAb,CAAqB,KAArB,GAA6B,EAA7B,CAV4B;;;;KADF;CAA9B;;AAeA,SAAS,EAAT,CAAY,MAAZ,CAAmB;AACf,wBAAsB,eAAtB;CADJ;;AAIA,SAAS,OAAT,CAAiB,OAAjB,CAAyB;AACvB;wBAAY,MAAM;AAChB,UAAM,OAAO,IAAI,IAAJ,CAAU,IAAV,CAAP,CADU;AAEhB,UAAM,QAAQ,KAAK,QAAL,EAAR,CAFU;AAGhB,UAAM,UAAU,KAAK,UAAL,EAAV,CAHU;AAIhB,UAAM,UAAU,KAAK,UAAL,EAAV,CAJU;AAKhB,UAAM,MAAM,KAAK,OAAL,EAAN,CALU;AAMhB,UAAM,QAAQ,KAAK,QAAL,EAAR,CANU;AAOhB,UAAM,OAAO,KAAK,WAAL,EAAP,CAPU;AAQhB,UAAI,MAAM,EAAN,CARY;AAShB,UAAM,MAAM,IAAI,IAAJ,EAAN,CATU;AAUhB,UAAI,MAAI,IAAJ,GAAS,QAAT,EAAmB;AACrB,cAAM,MAAM,GAAN,GAAY,KAAZ,GAAoB,GAApB,GAA0B,IAA1B,CADe;OAAvB,MAEO;AACL,cAAM,QAAQ,GAAR,GAAc,OAAd,GAAwB,GAAxB,GAA8B,OAA9B,CADD;OAFP;AAKA,aAAO,GAAP,CAfgB;;;;KADK;CAAzB","file":"/client/messages.js.map","sourcesContent":["Template.messagesBlock.helpers({\n  messages () {\n    return Messages.find({});\n  }\n});\n\nTemplate.messagesBlock.events({\n  \"submit .new-message\" (event) {\n    event.preventDefault();\n    const text = event.target.message.value;\n\n    Messages.insert({\n      text: text,\n      createdAt: new Date(),\n      owner: Meteor.userId(),\n      username: Meteor.user().username\n    });\n    event.target.message.value = \"\";\n  }\n});\n\nAccounts.ui.config({\n    passwordSignupFields: \"USERNAME_ONLY\"\n});\n\nTemplate.message.helpers({\n  dateFormat (time) {\n    const date = new Date (time);\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const seconds = date.getSeconds();\n    const day = date.getDate();\n    const month = date.getMonth();\n    const year = date.getFullYear();\n    let out = \"\";\n    const now = new Date();\n    if (now-time>86400000) {\n      out = day + \".\" + month + \".\" + year;\n    } else {\n      out = hours + \":\" + minutes + \":\" + seconds;\n    }\n    return out;\n  }\n});\n"]},"hash":"3273a8c98645c540230af5d2215d44ac1f3df0ac"}
