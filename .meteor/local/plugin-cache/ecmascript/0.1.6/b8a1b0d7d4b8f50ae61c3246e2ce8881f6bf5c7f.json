{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"var MAP_ZOOM = 15;\n\nMeteor.startup(function () {\n  GoogleMaps.load();\n});\n\nTemplate.map.onCreated(function () {\n  var self = this;\n\n  GoogleMaps.ready('map', function (map) {\n    var marker = undefined;\n\n    self.autorun(function () {\n      var latLng = Geolocation.latLng();\n      if (!latLng) return;\n\n      if (!marker) {\n        marker = new google.maps.Marker({\n          position: new google.maps.LatLng(latLng.lat, latLng.lng),\n          map: map.instance\n        });\n      } else {\n        marker.setPosition(latLng);\n      }\n      map.instance.setCenter(marker.getPosition());\n      map.instance.setZoom(MAP_ZOOM);\n    });\n  });\n});\n\nTemplate.map.helpers({\n  geolocationError: function () {\n    var error = Geolocation.error();\n    return error && error.message;\n  },\n  mapOptions: function () {\n    var latLng = Geolocation.latLng();\n    if (GoogleMaps.loaded() && latLng) {\n      return {\n        center: new google.maps.LatLng(latLng.lat, latLng.lng),\n        zoom: MAP_ZOOM\n      };\n    }\n  }\n});","ast":null,"map":{"version":3,"sources":["/client/map.js"],"names":[],"mappings":"AAAA,IAAI,QAAQ,GAAG,EAAE,CAAC;;AAElB,MAAM,CAAC,OAAO,CAAC,YAAW;AACxB,YAAU,CAAC,IAAI,EAAE,CAAC;CACnB,CAAC,CAAC;;AAEH,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,YAAW;AAChC,MAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,YAAU,CAAC,KAAK,CAAC,KAAK,EAAE,UAAS,GAAG,EAAE;AACpC,QAAI,MAAM,YAAA,CAAC;;AAEX,QAAI,CAAC,OAAO,CAAC,YAAY;AACvB,UAAI,MAAM,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC;AAClC,UAAG,CAAE,MAAM,EACX,OAAO;;AAEP,UAAG,CAAC,MAAM,EAAE;AACV,cAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;AAC9B,kBAAQ,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC;AACxD,aAAG,EAAE,GAAG,CAAC,QAAQ;SAClB,CAAC,CAAC;OACJ,MAEI;AACH,cAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;OAC5B;AACD,SAAG,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC;AAC7C,SAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;KAChC,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ,CAAC,CAAC;;AAEH,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC;AACnB,kBAAgB,EAAE,YAAY;AAC5B,QAAI,KAAK,GAAG,WAAW,CAAC,KAAK,EAAE,CAAC;AAChC,WAAO,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC;GAC/B;AACD,YAAU,EAAE,YAAY;AACtB,QAAI,MAAM,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC;AAClC,QAAG,UAAU,CAAC,MAAM,EAAE,IAAI,MAAM,EAAE;AAChC,aAAO;AACL,cAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC;AACtD,YAAI,EAAE,QAAQ;OACf,CAAC;KACH;GACF;CACF,CAAC,CAAC","file":"/client/map.js.map","sourcesContent":["let MAP_ZOOM = 15;\n\nMeteor.startup(function() {\n  GoogleMaps.load();\n});\n\nTemplate.map.onCreated(function() {\n  let self = this;\n\n  GoogleMaps.ready('map', function(map) {\n    let marker;\n\n    self.autorun(function () {\n      let latLng = Geolocation.latLng();\n      if(! latLng)\n      return;\n\n      if(!marker) {\n        marker = new google.maps.Marker({\n          position: new google.maps.LatLng(latLng.lat, latLng.lng),\n          map: map.instance\n        });\n      }\n\n      else {\n        marker.setPosition(latLng);\n      }\n      map.instance.setCenter(marker.getPosition());\n      map.instance.setZoom(MAP_ZOOM);\n    });\n  });\n});\n\nTemplate.map.helpers({\n  geolocationError: function () {\n    var error = Geolocation.error();\n    return error && error.message;\n  },\n  mapOptions: function () {\n    var latLng = Geolocation.latLng();\n    if(GoogleMaps.loaded() && latLng) {\n      return {\n        center: new google.maps.LatLng(latLng.lat, latLng.lng),\n        zoom: MAP_ZOOM\n      };\n    }\n  }\n});\n"]},"hash":"b8a1b0d7d4b8f50ae61c3246e2ce8881f6bf5c7f"}
